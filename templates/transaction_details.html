{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Transaction Receipt</title>

    <style></style>
  </head>
  <body>
    <div class="receipt-container">
      <!-- Header -->
      <div class="header">
        <div class="header-left">
          <h1>Transaction Receipt</h1>
          <p style="margin-top: 5px; font-size: small; color: gray">
            Printed on: {{ today }}
          </p>
        </div>
        <div class="header-right">
          <img src="{{ STATIC_ROOT }}/IMAGE/bank_logo.png" alt="company_logo" />
        </div>
      </div>

      <!-- Customer Info -->
      <div class="info-header">
        <h2 class="section-title-customer">Customer Information</h2>
        <div class="barcode-inline">
          <img
            src="data:image/png;base64,{{ barcode_base64 }}"
            alt="Transaction Barcode"
          />
        </div>
      </div>
      <!-- Customer Info Section -->
      <div class="info-grid">
        <p><strong>Name:</strong> {{ transaction.customer.name }}</p>
        <p><strong>Email:</strong> {{ transaction.customer.email }}</p>
        <p><strong>Phone:</strong> {{ transaction.customer.phone_no }}</p>
        <p><strong>Generated By:</strong> {{ generated_by }}</p>
      </div>

      <!-- Transaction Info -->
      <div class="transaction-details">
        <h2 class="section-title">Transaction Details</h2>
        <div class="info-grid">
          <p>
            <strong>Transaction ID:</strong>
            <span class="highlight">{{ transaction.transaction_id }}</span>
          </p>
          <p><strong>Date:</strong> {{ transaction.date_of_transaction }}</p>
          <p><strong>Type:</strong> {{ transaction.transaction_type|title }}</p>
          <p><strong>Method:</strong> {{ transaction.payment_method|title }}</p>
          <p><strong>Amount:</strong> {{ transaction.amount }} Tk</p>
          <p>
            <strong>Balance After:</strong> {{ transaction.cumulative_balance }}
            Tk
          </p>
          <p><strong>Notes:</strong> {{ transaction.comment|default:"N/A" }}</p>
          <p>
            <strong>Processed By:</strong>
            {{ transaction.processed_by.name }}
          </p>
        </div>
      </div>

      <!-- Barcode -->
      {% comment %}
      <div class="barcode">
        <img
          src="data:image/png;base64,{{ barcode_base64 }}"
          alt="Transaction Barcode"
        />
      </div>
      {% endcomment %}

      <!-- Footer -->
      <div class="footer">
        <p style="color: red; margin: 0; padding: 0; font-size: 12px">
          ** This is a system-generated document. No signature is required. **
        </p>
        <p style="margin: 8px; padding: 0">Thank you for using our service.</p>
        <p style="margin: 8px; padding: 0">
          © {{ today.year }} Personal Bank — All rights reserved.
        </p>
      </div>
      <div class="developerInfo">
        Developed by
        <a
          href="https://mrashid-portfolio.netlify.app/"
          style="color: #0000ff; text-decoration: none"
          target="_blank"
          >M-Rashid</a
        >
      </div>
    </div>
  </body>
</html>
